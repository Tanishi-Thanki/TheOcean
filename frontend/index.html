<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe-Scan Lite</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- HTML5-QRCode Library -->
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-900 min-h-screen flex flex-col items-center justify-center p-4">

    <!-- App Container -->
    <div class="w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden min-h-[80vh] flex flex-col relative">

        <!-- Header -->
        <header class="bg-indigo-600 text-white p-6 text-center z-10">
            <h1 class="text-2xl font-bold tracking-tight">Safe-Scan Lite</h1>
            <p class="text-indigo-100 text-sm mt-1">Scan QR codes safely before opening links</p>
        </header>

        <!-- Main Content Area -->
        <main class="flex-grow flex flex-col items-center justify-center p-6 space-y-6 bg-gray-50 relative">

            <!-- Initial State / Scanner Controls -->
            <div id="start-screen" class="w-full flex flex-col items-center space-y-6">
                <div class="w-32 h-32 bg-indigo-100 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-16 h-16 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z">
                        </path>
                    </svg>
                </div>
                <button id="scan-btn"
                    class="w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white text-lg font-bold rounded-xl shadow-lg transform transition active:scale-95 flex items-center justify-center gap-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z">
                        </path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Scan QR
                </button>

                <!-- Upload Button -->
                <button id="upload-btn"
                    class="w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white text-lg font-bold rounded-xl shadow-lg transform transition active:scale-95 flex items-center justify-center gap-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                        </path>
                    </svg>
                    Upload QR Image
                </button>
                <input type="file" id="qr-input-file" accept="image/*" class="hidden">
            </div>

            <!-- Scanner Viewport (Hidden initially) -->
            <div id="scanner-container" class="hidden w-full h-full absolute inset-0 bg-black z-20 flex flex-col">
                <div id="reader" class="w-full h-full object-cover"></div>
                <button id="close-scanner"
                    class="absolute top-4 right-4 bg-white/20 text-white p-2 rounded-full backdrop-blur-sm z-30">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
                <div
                    class="absolute bottom-10 left-0 right-0 text-center text-white/80 text-sm z-30 pointer-events-none">
                    Point camera at a QR code
                </div>
            </div>

            <!-- Analysis / Loading State (Hidden) -->
            <div id="loading-screen"
                class="hidden flex flex-col items-center justify-center absolute inset-0 bg-white/95 z-20 backdrop-blur-sm">
                <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-600 mb-4"></div>
                <p class="text-lg font-semibold text-gray-700">Analyzing URL Safety...</p>
            </div>

            <!-- Result Card (Hidden) -->
            <div id="result-card"
                class="hidden w-full bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-fade-in-up">

                <!-- Status Header -->
                <div id="result-header" class="p-4 flex items-center gap-3 border-b">
                    <!-- Status Icon & Text injected by JS -->
                </div>

                <div class="p-5 space-y-4">
                    <!-- URL Display -->
                    <div>
                        <label class="block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1">Decoded
                            URL</label>
                        <div class="bg-gray-50 p-3 rounded-lg border border-gray-200 break-all font-mono text-sm text-gray-700 select-all"
                            id="decoded-url">https://example.com/login</div>
                    </div>

                    <!-- Analysis Details -->
                    <div>
                        <label
                            class="block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1">Analysis</label>
                        <p id="attack-vector" class="text-sm font-bold text-gray-800 mb-1">Potential Phishing Attempt
                        </p>
                        <p id="explanation" class="text-sm text-gray-600 leading-relaxed">This URL mimics a known
                            banking site but is hosted on a suspicious domain.</p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="pt-2 space-y-3">
                        <button id="btn-close"
                            class="w-full py-3 bg-red-50 hover:bg-red-100 text-red-700 font-bold rounded-lg border border-red-200 transition flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                            Do Not Open
                        </button>

                        <div class="relative group">
                            <a id="btn-open" href="#" target="_blank"
                                class="block w-full text-center py-3 text-gray-400 text-sm font-medium hover:text-gray-600 transition underline">
                                Open anyway (at your own risk)
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <footer class="p-4 text-center text-xs text-gray-400 bg-white border-t border-gray-100">
            Powered by Safe-Scan Security Engine
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>

